{%load cart%}
{%load static%}
<!doctype html>
<html class="no-js" lang="zxx">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>{% block title %}{% endblock %}</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="site.webmanifest">
    <link rel="shortcut icon" type="image/x-icon" href="{%static './shop/assets/img/favicon.ico'%}">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="{%static './shop/assets/css/bootstrap.min.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/owl.carousel.min.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/flaticon.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/slicknav.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/animate.min.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/magnific-popup.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/fontawesome-all.min.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/themify-icons.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/slick.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/nice-select.css'%}">
        <link rel="stylesheet" href="{%static './shop/assets/css/style.css'%}">

        <style>
            .col-md-3 {
                display: inline-block;
                margin-left: -4px;
            }
            h1, h2, h3, h4, h5, h6 {
    margin-left: 14px;
           
            }
    
            body .carousel-control-indicator li {
                background-color: red;
            }
    
            body .carousel-control-prev-icon body .carousel-control-next-icon {
                background-color: red;
            }
    
            body .no-padding {
                padding-left: 0;
                padding-right: 0;
            }
    
            .carousel-control-prev-icon {
                background: rgb(255, 0, 0) no-repeat center center;
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3e%3cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3e%3c/svg%3e");
            }
    
            .carousel-control-next-icon {
                background: rgb(255, 0, 0) no-repeat center center;
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3e%3cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3e%3c/svg%3e");
    
            }
            .carousel-control-next-icon, .carousel-control-prev-icon
            {
                top: 0;
                bottom: 0;
            }
            body .carousel-indicators{
            bottom:0;
            }
    
            .carousel-indicators .active{
            background-color: red;
            }
            .carousel-control-prev,
          .carousel-control-next
          {
            top: auto;
            bottom: auto;
          }
          .btn btn-primary
          {
              height: 30px;
              width: 160px;
          }
        
    
        </style>
    
  
  <header>
  <!-- Header Start -->
  <div class="header-area">
      <div class="main-header header-sticky">
          <div class="container-fluid">
              <div class="menu-wrapper">
                  <!-- Logo -->
                  <div class="logo">
                      <a href="/shop/basic"><img src="{%static './shop/assets/img/logo/circle-cropped.png'%}" alt=""></a>
                  </div>
                  <!-- Main-menu -->
                  <div class="main-menu d-none d-lg-block">
                      <nav>
                          <ul id="navigation">
                              <li><a href="#">Home</a></li>
                              <li><a href="/shop/basic">shop</a></li>
                              <li><a href="/shop/about">about</a></li>
                              <li class="hot"><a href="#">Latest</a>
                                  <ul class="submenu">
                                      <li><a href="/shop/shop"> Product list</a></li>
                                      <li><a href="/shop/product_details"> Product Details</a></li>
                                  </ul>
                              </li>
                              <li><a href="/shop/blog">Blog</a>
                                  <ul class="submenu">
                                      <li><a href="/shop/blog">Blog</a></li>
                                      <li><a href="/shop/blog-details.htm">Blog Details</a></li>
                                  </ul>
                              </li>
                              <li><a href="#">Pages</a>
                                  <ul class="submenu">
                                      <li><a href="/shop/login">Login</a></li>
                                      <li><a href="/shop/cart">Cart</a></li>

                                      <li><a href="/shop/confirmation">Confirmation</a></li>
                                      <li><a href="/shop/checkout">Product Checkout</a></li>
                                  </ul>
                              </li>
                              <li><a href="/shop/contact">Contact</a></li>
                          </ul>
                      </nav>
                  </div>
                  <!-- Header Right -->

                  <div class="header-right">
                    <ul>
                            <li><a href="/shop/cart"><span class="flaticon-shopping-cart"> ({{request.session.cart.keys|length}})</span></a> </li>
<!--                        <li><a href="/shop/cart"><span>cart</span></a> </li>-->
                        {% if request.session.customer%}



                        <li> <a href="/shop/logout"><span  style="margin-right: 0px; font-weight: 600;">Logout</span></a></li>
                        <li><a href="/shop/orders"><span>Orders</span></a> </li>


                        {% else %}

                        <li> <a href="/shop/login"><span style="margin-right: 0px;font-weight: 600;">Login</span></a></li>

                        {% endif %}
                        <li>
                            <div class="nav-search search-switch">
                                <span class="flaticon-search"></span>
                            </div>
                          </li>
                    </ul>
                  </div>
              </div>
              <!-- Mobile Menu -->
              <div class="col-12">
                  <div class="mobile_menu d-block d-lg-none"></div>
              </div>
          </div>
      </div>
  </div>
  <!-- Header End -->
</header>
  <body>
    
    <div class="container">

        <!--Slideshow starts here -->
        {% for product, range, nSlides in allProds %}
        <h5 class="my-4">{{product.0.category}}</h5>
    <div id="demo{{forloop.counter}}" class="carousel slide my-3" data-ride="carousel">
        <ul class="carousel-indicators">
          <li data-target="#demo{{forloop.counter}}" data-slide-to="0" class="active"></li>
    
           {% for i in range %}
          <li data-target="#demo{{forloop.parentloop.counter}}" data-slide-to="{{i}}" ></li>
          {% endfor %}
        </ul>
    
    
        <div class="container carousel-inner no-padding">
    
          <div class="carousel-item active">
    
    
            {% for i in product %}
            <div class="col-xs-3 col-sm-3 col-md-3 " id={{i.id}} >
              <div class="card" style="width: 18rem;">
                <img src='/media/{{i.image}}' class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">{{i.product_name}}</h5>
                  <p class="card-text">{{i.desc|slice:"0:23"}}...</p>
<!--                  {{i | is_in_cart:request.session.cart }}-->
                 
                 
                <a href="/shop/products/{{i.id}}" ><button id=qv{{i.id}} type="submit" class="btn btn-primary cart mx-2" style="width: 172px; margin-top: 10px; ">Quickview</button></a>
            
                </div>
                <div class="card-footer p-0" >

                    {% if i|is_in_cart:request.session.cart%}
                    <div class="row no-gutters" style="height: 58px; width: 255px;">
                        
    
    
                        <form action="/shop/basic/#{{i.id}}" method="POST" class="col-2">{% csrf_token %}
                            <input hidden type="text" name="product" value={{i.id}} style="height: 20px;">
                            <input hidden type="text" name="remove" value="True" style="height: 20px;">
                            <input type="submit" value = " - " class="btn btn-block btn-light" style="font-size: 2rem;">
                        </form>
                        <div class="text-center col"> {{i | cart_quantity:request.session.cart }}</div>
                        <form action="/shop/basic/#{{i.id}}" method="POST" class="col-2">{% csrf_token %}
                            <input hidden type="text" name="product" value={{i.id}} style="height: 20px;">
                            <input type="submit" value = " + " class="btn btn-block btn-light" style="font-size: 2rem;">
                        </form>
    
                    </div>
                    {% else %}
                    <form action="/shop/basic/#{{i.id}}" method="POST" class="btn-block">{% csrf_token %}
                        <!-- <span id="divpr{{i.id}}" class="divpr"> -->
                          
                              <input hidden type="text" name="product" value={{i.id}} style="height: 20px;">
      
                              <button id="pr{{i.id}}" class="btn btn-primary btn-block cart mx-2">Add To Cart</button></span>
                      
                      <!-- </span> -->
                  </form>
                    {% endif %}
                
                
                </div>


               
            </div>
            </div>
            {% if forloop.counter|divisibleby:4 and forloop.counter > 0 and not forloop.last %}
          </div><div class="carousel-item">
            {% endif %}
    
            {% endfor %}
        </div>
    
    
    
    </div>
    </div>
        <!-- left and right controls for the slide -->
        <a class="carousel-control-prev" href="#demo{{forloop.counter}}" data-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </a>
        <a class="carousel-control-next" href="#demo{{forloop.counter}}" data-slide="next">
            <span class="carousel-control-next-icon"></span>
        </a>
        {% endfor %}
    </div>
    
    
            

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
   
   
        
        
    
</body>
</html>
